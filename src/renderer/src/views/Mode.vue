<template>
    <div class="flex flex-col w-full bg-slate-100 h-screen justify-center p-4 items-center relative">
        <Wave />
        <p class="text-md uppercase text-gray-800 font-bold mb-10 font-mono antialiased">Connection Mode</p>
        <div class="">
            <div class="flex flex-row p-3 gap-5">
                <ButtonMode title="Server" value="Server" @pressed="choose" />
                <ButtonMode title="Client" value="Client" @pressed="choose" />
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { ConnectionMode } from '../stores/connection';
import ButtonMode from '../components/Mode/ButtonMode.vue';
import Wave from '../components/Mode/Wave.vue';
const con = ConnectionMode();
    
const mode = ref('')

const choose = async (chose) => {
    mode.value = chose
    await con.changeMode(mode.value)
};

onMounted(() => {
    // con.checkConnection()
    con.checkMode()
})
</script>

